<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>text to P</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #ffc0cb; /* pink background */
      font-family: 'Press Start 2P', cursive;
      font-size: 4vw; /* ขนาดข้อความปรับตามหน้าจอ */
      color: #222;
      text-align: center;
      padding: 20px;
      image-rendering: pixelated;
      overflow-x: hidden;
      touch-action: manipulation;
    }
    .scene { margin-top: 5vh; }
    .hidden { display: none; }
    .btn {
      display: inline-block;
      background: #ffb6c1;
      border: 3px solid #000;
      padding: 1vw 2vw;
      margin: 1vw;
      cursor: pointer;
      font-size: 3vw;
      image-rendering: pixelated;
    }
    .btn:hover { background: #ffcce0; }
    .heart {
      position: absolute;
      font-size: 6vw;
      animation: floatUp 2s linear forwards;
      pointer-events: none;
    }
    @keyframes floatUp {
      from { transform: translateY(0); opacity: 1; }
      to { transform: translateY(-30vh); opacity: 0; }
    }
    .cat {
      font-size: 8vw; /* ตัวแมวใหญ่ขึ้น */
      line-height: 8vw;
      white-space: pre;
      margin: 3vw auto;
      display: block;
    }
  </style>
</head>
<body>

<h1>text to u</h1>

<div id="scene1" class="scene">
  <p id="message1"></p>
  <pre class="cat">
 /\_/\  
( o.o ) 
 > ^ < 
  </pre>
  <button class="btn" onclick="nextScene(1)">Next ❤</button>
</div>

<div id="scene2" class="scene hidden">
  <p id="message2"></p>
  <pre class="cat">
 /\_/\  
( -.- ) 
 > ^ < 
  </pre>
  <button class="btn" onclick="nextScene(2)">Next ❤</button>
</div>

<div id="scene3" class="scene hidden">
  <p id="message3"></p>
  <pre class="cat">
 /\_/\  
( o_o ) 
 > ^ < 
  </pre>
  <button class="btn" onclick="nextScene(3)">Next ❤</button>
</div>

<div id="scene4" class="scene hidden">
  <p id="message4"></p>
  <pre class="cat">
 /\_/\  
( ^_^ ) 
 > ^ < 
  </pre>
  <button class="btn" onclick="showQuestion()">Yes</button>
  <button class="btn" onclick="showQuestion()">Yes</button>
</div>

<div id="scene5" class="scene hidden">
  <p>Do you like it? I spent a lot of time creating it! Next time, I will add moving characters. Thanks for reading till the end!</p>
  <pre class="cat">
 /\_/\  
( >.< ) 
 > ^ < 
  </pre>
</div>

<script>
const messages = [
  "Hello P, I don’t know how you are doing, but I hope you are fine.",
  "I like u yeah it's sound freaky btw",
  "Sometimes I acted like I'm ignor at college,cus I want you to tallk to me i'm not a dog i don't bite.",
  "Anyway,hope u have a lot of smiles mee kam suk mak mak ok mai?."
];

const speed = 50;

function typeWriter(messageId, text, callback){
  const p = document.getElementById(messageId);
  p.innerHTML = "";
  let i = 0;
  const interval = setInterval(() => {
    if(i < text.length){
      p.innerHTML += text.charAt(i);
      i++;
    } else {
      clearInterval(interval);
      if(callback) callback();
    }
  }, speed);
}

function floatHeart(x, y){
  const heart = document.createElement("div");
  heart.innerHTML = "❤";
  heart.className = "heart";
  heart.style.left = x + "px";
  heart.style.top = y + "px";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),2000);
}

function nextScene(sceneNum){
  floatHeart(window.innerWidth/2, window.innerHeight/2);

  if(sceneNum===1){
    document.getElementById("scene1").classList.add("hidden");
    document.getElementById("scene2").classList.remove("hidden");
    typeWriter("message2", messages[1]);
  } else if(sceneNum===2){
    document.getElementById("scene2").classList.add("hidden");
    document.getElementById("scene3").classList.remove("hidden");
    typeWriter("message3", messages[2]);
  } else if(sceneNum===3){
    document.getElementById("scene3").classList.add("hidden");
    document.getElementById("scene4").classList.remove("hidden");
    typeWriter("message4", messages[3]);
  }
}

function showQuestion(){
  floatHeart(window.innerWidth/2, window.innerHeight/2);
  document.getElementById("scene4").classList.add("hidden");
  document.getElementById("scene5").classList.remove("hidden");
}

// Touch hearts on mobile
document.addEventListener("touchstart", function(e){
  e.touches.forEach(touch => floatHeart(touch.clientX, touch.clientY));
});

// Start first scene typing
window.onload = () => { typeWriter("message1", messages[0]); };
</script>

</body>
</html>